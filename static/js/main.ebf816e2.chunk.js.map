{"version":3,"sources":["components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","handleUserSelect","title","onInputChange","completed","className","action","htmlFor","name","type","value","onChange","length","map","todo","classNames","readOnly","checked","onClick","userId","id","getAllTodos","a","fetch","response","ok","Error","status","statusText","json","getUserById","user","CurrentUser","state","showErrorMessage","handleClearButton","setState","clear","props","clearUser","this","loadData","prevProps","email","phone","React","Component","App","selectedUserId","onUserSelect","handleInputChange","event","target","handleClearUser","prepareTodos","filter","toLowerCase","includes","preparedTodos","ReactDOM","render","document","getElementById"],"mappings":"iYAYaA,EAA2B,SAAC,GAAD,IACtCC,EADsC,EACtCA,MACAC,EAFsC,EAEtCA,iBACAC,EAHsC,EAGtCA,MACAC,EAJsC,EAItCA,cACAC,EALsC,EAKtCA,UALsC,OAOtC,sBAAKC,UAAU,WAAf,UACE,6CACA,uBAAMC,OAAO,OAAb,UACE,8BACE,wBAAOC,QAAQ,QAAf,mBAEG,IACD,uBACEF,UAAU,QACVG,KAAK,QACLC,KAAK,OACLC,MAAOR,EACPS,SAAUR,SAIhB,8BACE,wBAAOI,QAAQ,QAAf,wBAEG,IACD,yBACEC,KAAK,YACLE,MAAON,EACPO,SAAUR,EAHZ,UAKE,wBACEO,MAAM,eADR,0BAMA,wBACEA,MAAM,YADR,uBAKA,wBACEA,MAAM,gBADR,sCASR,wCACA,qBAAKL,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGL,EAAMY,OAAS,GAAKZ,EAAMa,KAAI,SAAAC,GAAI,OACjC,qBAEET,UAAWU,IACT,CAAE,yBAA0BD,EAAKV,WACjC,CAAE,4BAA6BU,EAAKV,YAJxC,UAOE,wBAAOG,QAAQ,aAAf,UACE,uBACEC,KAAK,aACLC,KAAK,WACLO,UAAQ,EACRC,QAASH,EAAKV,YAEhB,4BAAIU,EAAKZ,WAGX,yBACEgB,QAAS,kBAAMjB,EAAiBa,EAAKK,SACrCd,UAAU,iEAKVI,KAAK,SAPP,qBAUGK,EAAKK,YA1BHL,EAAKM,eClETC,G,MAAW,uCAAG,8BAAAC,EAAA,+EAEAC,MALV,2CAGU,WAEjBC,EAFiB,QAITC,GAJS,sBAKf,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAL5B,uBAQHJ,EAASK,OARN,cAQjB7B,EARiB,yBAUhBA,GAVgB,wCAYjB,IAAI0B,MAAJ,8CAZiB,0DAAH,sDAgBXI,EAAW,uCAAG,WAAOV,GAAP,iBAAAE,EAAA,sEACFC,MAAM,GAAD,OAnBZ,2CAmBY,YAAiBH,IADpB,WACnBI,EADmB,QAGXC,GAHW,sBAIjB,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAJ1B,uBAONJ,EAASK,OAPH,cAOnBE,EAPmB,yBASlBA,GATkB,2CAAH,sDCNXC,EAAb,4MACEC,MAAe,CACbF,KAAM,KACNG,kBAAkB,GAHtB,EAgBEC,kBAAoB,WAClB,EAAKC,SAAS,CAAEL,KAAM,QAGtBM,EAFc,EAAKC,MAAMC,cAlB7B,uDAME,WACEC,KAAKC,aAPT,gCAUE,SAAmBC,GACbA,EAAUvB,SAAWqB,KAAKF,MAAMnB,QAClCqB,KAAKC,aAZX,6DAuBE,4BAAAnB,EAAA,+EAEuBQ,EAAYU,KAAKF,MAAMnB,QAF9C,OAEUY,EAFV,OAIIS,KAAKJ,SAAS,CACZL,OACAG,kBAAkB,IANxB,gDASIM,KAAKJ,SAAS,CACZL,KAAM,KACNG,kBAAkB,IAXxB,yDAvBF,0EAuCE,WACE,IAAQH,EAASS,KAAKP,MAAdF,KAER,OACE,gCAEIA,GACE,sBAAK1B,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,kDAEG0B,EAAKX,QAIV,oBAAIf,UAAU,oBAAd,SAAmC0B,EAAKvB,OACxC,mBAAGH,UAAU,qBAAb,SAAmC0B,EAAKY,QACxC,mBAAGtC,UAAU,qBAAb,SAAmC0B,EAAKa,QACxC,wBACEnC,KAAK,SACLS,QAASsB,KAAKL,kBAFhB,sBAWJK,KAAKP,MAAMC,iBACN,uEACD,YAtEd,GAAiCW,IAAMC,WCCjCC,E,4MACJd,MAAe,CACbe,eAAgB,EAChBhD,MAAO,GACPE,MAAO,GACPE,UAAW,gB,EASb6C,aAAe,SAAC9B,GACd,EAAKiB,SAAS,CAAEY,eAAgB7B,K,EAGlC+B,kBAAoB,SAACC,GAEnB,MAAwBA,EAAMC,OAAtB5C,EAAR,EAAQA,KAAME,EAAd,EAAcA,MAEd,EAAK0B,UAAS,SAAAH,GAAK,kCACdA,GADc,kBAEhBzB,EAAOE,Q,EAIZ2C,gBAAkB,WAChB,EAAKjB,SAAS,CAAEY,eAAgB,K,EAGlCM,aAAe,WACb,MAAoC,EAAKrB,MAAjCjC,EAAR,EAAQA,MAAOE,EAAf,EAAeA,MAAOE,EAAtB,EAAsBA,UAEtB,OAAOJ,EAAMuD,QAAO,SAAAzC,GAClB,OAAIZ,EACKY,EAAKZ,MAAMsD,cAAcC,SAASvD,EAAMsD,eAG/B,cAAdpD,EACKU,EAAKV,UAGI,kBAAdA,GACMU,EAAKV,UAGRU,M,8FAxCX,4BAAAQ,EAAA,sEACsBD,IADtB,OACQrB,EADR,OAGEwC,KAAKJ,SAAS,CAAEpC,UAHlB,gD,0EA4CA,WACE,MAIIwC,KAAKP,MAHPe,EADF,EACEA,eACA9C,EAFF,EAEEA,MACAE,EAHF,EAGEA,UAGIsD,EAAgBlB,KAAKc,eAE3B,OACE,sBAAKjD,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACGmC,KAAKP,MAAMjC,MAAMY,OAAS,GAEvB,cAAC,EAAD,CACEV,MAAOA,EACPE,UAAWA,EACXH,iBAAkBuC,KAAKS,aACvBjD,MAAO0D,EACPvD,cAAeqC,KAAKU,sBAK5B,qBAAK7C,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACG2C,EACC,cAAC,EAAD,CACET,UAAWC,KAAKa,gBAChBlC,OAAQ6B,IAER,8B,GAnFEH,IAAMC,WA2FTC,ICtGfY,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.ebf816e2.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\ninterface Prop {\n  todos: Todo[],\n  handleUserSelect: (userId: number) => void,\n  title: string,\n  completed: string,\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>\n  | React.ChangeEvent<HTMLSelectElement>) => void\n}\nexport const TodoList: React.FC<Prop> = ({\n  todos,\n  handleUserSelect,\n  title,\n  onInputChange,\n  completed,\n}) => (\n  <div className=\"TodoList\">\n    <p>Filter Todos</p>\n    <form action=\"Post\">\n      <div>\n        <label htmlFor=\"title\">\n          Title:\n          {' '}\n          <input\n            className=\"input\"\n            name=\"title\"\n            type=\"text\"\n            value={title}\n            onChange={onInputChange}\n          />\n        </label>\n      </div>\n      <div>\n        <label htmlFor=\"title\">\n          Completion:\n          {' '}\n          <select\n            name=\"completed\"\n            value={completed}\n            onChange={onInputChange}\n          >\n            <option\n              value=\"not selected\"\n            >\n              not selected\n            </option>\n\n            <option\n              value=\"completed\"\n            >\n              completed\n            </option>\n            <option\n              value=\"not completed\"\n            >\n              not completed\n            </option>\n          </select>\n        </label>\n      </div>\n    </form>\n    <h2>Todos:</h2>\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.length > 0 && todos.map(todo => (\n          <li\n            key={todo.id}\n            className={classNames(\n              { 'TodoList__item checked': todo.completed },\n              { 'TodoList__item unchecked': !todo.completed },\n            )}\n          >\n            <label htmlFor=\"completion\">\n              <input\n                name=\"completion\"\n                type=\"checkbox\"\n                readOnly\n                checked={todo.completed}\n              />\n              <p>{todo.title}</p>\n            </label>\n\n            <button\n              onClick={() => handleUserSelect(todo.userId)}\n              className=\"\n                TodoList__user-button\n                TodoList__user-button--selected\n                button\n              \"\n              type=\"button\"\n            >\n              User&nbsp;\n              {todo.userId}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n","const TODO_URL = 'https://mate.academy/students-api/todos';\nconst USERS_URL = 'https://mate.academy/students-api/users/';\n\nexport const getAllTodos = async (): Promise<Todo[]> => {\n  try {\n    const response = await fetch(TODO_URL);\n\n    if (!response.ok) {\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n\n    const todos = await response.json();\n\n    return todos;\n  } catch (error) {\n    throw new Error(`Error ocured because of this ${error}`);\n  }\n};\n\nexport const getUserById = async (id:number): Promise<User> => {\n  const response = await fetch(`${USERS_URL}/${id}`);\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  const user = await response.json();\n\n  return user;\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUserById } from '../../api/api';\n\ninterface Props {\n  userId: number,\n  clearUser: () => void,\n}\n\ninterface State {\n  user: User | null,\n  showErrorMessage: boolean,\n}\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n    showErrorMessage: false,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps: { userId: number; }) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadData();\n    }\n  }\n\n  handleClearButton = () => {\n    this.setState({ user: null });\n    const clear = this.props.clearUser;\n\n    clear();\n  };\n\n  async loadData() {\n    try {\n      const user = await getUserById(this.props.userId);\n\n      this.setState({\n        user,\n        showErrorMessage: false,\n      });\n    } catch (error) {\n      this.setState({\n        user: null,\n        showErrorMessage: true,\n      });\n    }\n  }\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      <div>\n        {\n          user && (\n            <div className=\"CurrentUser\">\n              <h2 className=\"CurrentUser__title\">\n                <span>\n                  Selected user:\n                  {user.id}\n                </span>\n              </h2>\n\n              <h3 className=\"CurrentUser__name\">{user.name}</h3>\n              <p className=\"CurrentUser__email\">{user.email}</p>\n              <p className=\"CurrentUser__phone\">{user.phone}</p>\n              <button\n                type=\"button\"\n                onClick={this.handleClearButton}\n              >\n                Clear\n              </button>\n            </div>\n          )\n        }\n\n        {\n          this.state.showErrorMessage\n            ? (<h1>Error ocured while loading user&apos; info</h1>)\n            : null\n        }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getAllTodos } from './api/api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[],\n  title: string,\n  completed: string,\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    title: '',\n    completed: 'not selected',\n  };\n\n  async componentDidMount() {\n    const todos = await getAllTodos();\n\n    this.setState({ todos });\n  }\n\n  onUserSelect = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement\n  | HTMLSelectElement>) => {\n    const { name, value } = event.target;\n\n    this.setState(state => ({\n      ...state,\n      [name]: value,\n    }));\n  };\n\n  handleClearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  prepareTodos = () => {\n    const { todos, title, completed } = this.state;\n\n    return todos.filter(todo => {\n      if (title) {\n        return todo.title.toLowerCase().includes(title.toLowerCase());\n      }\n\n      if (completed === 'completed') {\n        return todo.completed;\n      }\n\n      if (completed === 'not completed') {\n        return !todo.completed;\n      }\n\n      return todo;\n    });\n  };\n\n  render() {\n    const {\n      selectedUserId,\n      title,\n      completed,\n    } = this.state;\n\n    const preparedTodos = this.prepareTodos();\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          {this.state.todos.length > 0\n            && (\n              <TodoList\n                title={title}\n                completed={completed}\n                handleUserSelect={this.onUserSelect}\n                todos={preparedTodos}\n                onInputChange={this.handleInputChange}\n              />\n            )}\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                clearUser={this.handleClearUser}\n                userId={selectedUserId}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}